(ns advent-2022.day-1
  (:require
    [advent.util :as util]
    [net.cgrand.xforms :as xf]
    [clojure.string :as str]))


(defn parse [s]
  (map (fn [s]
         (map parse-long
              (str/split-lines s)))
       (str/split s
                  #"(?m)\n\n")))


(defn part-1 [in]
  (util/max (map util/sum
                 in)))


(defn part-2 [in]
  (util/sum (comp (map util/sum)
                  (xf/sort >)
                  (take 3))
            in))


(comment
  (def t "1000\n2000\n3000\n\n4000\n\n5000\n6000\n\n7000\n8000\n9000\n\n10000")
  (def in "3344\n8938\n7923\n3979\n2753\n5730\n4225\n\n24216\n7432\n18284\n\n3475\n9177\n6769\n11335\n8061\n9302\n8132\n\n25796\n\n20937\n\n2039\n4989\n5932\n5434\n5088\n7185\n1271\n8359\n5489\n8646\n\n7796\n1233\n3529\n4118\n7093\n7090\n8757\n2283\n5562\n3789\n\n2296\n2105\n1978\n2981\n5682\n1627\n2285\n5654\n5596\n2022\n2733\n3078\n3176\n4158\n\n6294\n3789\n1863\n5121\n6122\n7309\n7063\n4233\n1717\n6755\n5505\n2713\n\n4988\n5133\n4933\n6407\n2897\n2682\n5328\n4268\n1518\n4631\n2736\n1432\n3812\n1031\n\n4553\n1109\n7214\n2744\n8389\n3180\n7464\n5584\n7689\n6452\n\n5645\n6207\n2497\n1114\n5747\n2620\n2621\n1866\n2334\n1324\n5879\n6322\n4954\n\n8723\n24316\n4375\n\n4051\n6866\n7417\n4650\n6035\n6580\n3881\n3041\n1443\n6659\n2951\n2387\n\n5606\n1862\n3300\n6106\n5944\n2306\n1935\n5717\n6204\n1882\n2455\n4790\n4534\n4144\n\n3278\n5536\n4686\n4331\n1750\n1742\n2103\n6754\n5417\n2242\n2374\n5133\n2315\n\n34403\n\n5574\n2129\n2846\n5790\n1428\n1220\n1523\n5768\n2226\n1442\n1139\n3295\n3831\n\n3231\n3998\n5904\n6878\n3082\n2159\n2806\n2388\n1878\n1393\n6929\n6812\n\n18094\n\n4972\n4575\n5522\n5582\n2776\n3971\n3595\n1959\n4161\n4550\n1987\n4519\n4551\n3546\n3562\n\n4913\n5328\n2726\n5349\n6670\n7650\n7799\n3818\n5536\n2765\n\n1674\n3454\n5921\n6170\n3474\n1401\n5993\n5098\n3269\n5671\n5385\n5418\n\n4381\n35451\n\n1970\n6227\n6781\n3622\n2921\n2360\n5673\n2344\n5503\n5006\n6866\n1804\n2559\n\n12473\n1374\n23850\n\n7943\n1442\n3091\n2907\n1538\n6027\n1389\n4851\n3301\n1324\n6017\n\n13712\n11949\n4399\n1093\n2546\n6876\n\n5429\n1453\n7989\n9605\n2344\n10505\n4563\n3537\n\n6061\n1428\n3435\n5752\n1097\n3313\n2318\n1656\n2206\n6922\n6612\n2805\n3123\n\n2613\n6493\n3283\n5206\n4118\n3058\n1377\n4453\n6195\n3371\n5520\n6197\n5121\n1622\n\n8199\n5761\n6985\n6058\n8277\n9247\n8937\n4739\n5107\n\n11764\n13344\n5462\n\n4453\n10616\n8770\n6014\n6991\n7898\n\n5873\n12987\n16138\n\n9294\n8381\n3175\n1945\n8195\n2851\n1780\n6140\n\n3655\n3450\n6771\n4950\n3491\n6883\n4408\n4505\n2513\n6768\n4868\n3883\n4458\n\n39217\n\n15599\n1459\n19930\n6992\n\n9392\n6380\n4470\n5228\n8009\n7680\n1815\n4365\n5529\n\n8677\n6381\n10150\n2299\n2071\n9364\n5633\n\n1778\n5304\n1883\n2215\n4288\n4214\n7602\n2987\n7011\n1652\n5977\n\n2093\n20240\n18383\n\n4600\n2704\n3915\n3853\n5659\n2905\n3480\n3546\n4647\n6062\n3613\n6095\n4079\n\n6352\n4362\n5767\n7708\n2318\n10738\n1956\n\n5581\n6478\n5624\n3850\n5025\n3754\n2559\n4730\n1299\n1187\n3771\n1432\n1590\n5108\n\n3412\n10022\n1478\n3654\n4938\n3611\n\n3455\n5118\n6647\n7160\n7244\n2902\n6305\n1204\n2124\n5595\n7040\n5145\n\n1502\n8426\n6808\n9175\n3902\n5516\n5310\n4122\n7357\n\n8679\n14080\n\n23992\n17036\n\n1880\n\n2799\n3910\n3661\n3680\n4159\n5746\n6249\n2614\n2012\n7433\n5092\n3067\n\n35016\n24321\n\n9575\n2970\n17157\n\n3129\n2954\n2520\n5998\n2854\n5823\n2469\n3786\n2683\n3300\n3360\n5413\n3959\n\n28905\n4100\n\n24304\n7180\n23566\n\n5990\n1740\n1955\n5498\n1754\n3458\n4856\n4499\n3560\n3275\n1443\n1815\n1511\n1106\n\n1466\n\n10351\n8066\n5699\n\n4995\n7451\n7189\n2348\n3600\n3320\n3351\n5857\n6388\n3787\n1923\n6228\n\n6125\n1302\n6779\n3279\n13428\n7624\n\n41865\n\n2353\n11924\n6498\n10636\n1592\n3990\n2269\n\n7281\n4294\n3083\n10444\n4489\n4468\n1400\n4482\n\n63998\n\n2373\n2091\n6067\n3372\n1996\n6542\n1423\n5041\n6251\n4682\n5574\n2506\n6784\n\n1243\n1014\n1653\n2960\n1459\n4820\n4623\n5541\n3455\n3260\n1161\n1395\n3963\n\n3299\n1686\n4068\n7455\n3737\n6857\n7771\n7383\n7769\n4641\n3105\n\n8109\n1367\n5553\n8315\n8042\n4244\n6974\n1062\n\n50228\n\n6657\n22682\n\n4093\n5296\n8752\n9532\n11488\n3792\n11225\n\n2753\n16207\n10646\n11950\n\n1505\n4569\n6688\n4674\n7154\n7342\n4675\n8434\n5637\n3789\n\n5625\n3177\n2820\n1075\n3657\n4862\n3879\n1954\n3185\n4563\n1413\n5323\n6048\n3166\n\n4933\n1874\n5953\n6528\n6915\n3449\n6867\n6892\n6105\n3012\n2055\n5516\n3026\n\n14676\n25751\n4615\n\n3163\n5888\n4144\n3845\n6817\n6989\n6211\n1620\n7624\n1390\n5321\n\n8348\n2441\n12492\n12656\n13889\n\n6433\n1032\n2005\n5844\n3864\n2370\n6664\n5540\n2943\n5135\n3375\n2236\n4305\n\n6269\n3979\n1844\n3799\n3947\n5858\n1338\n2761\n2285\n5192\n1358\n1810\n5009\n1346\n\n4183\n3118\n4232\n5655\n4391\n4210\n5644\n3865\n4049\n1951\n2839\n5212\n1862\n5991\n4452\n\n4299\n1037\n3491\n3002\n6062\n2026\n1007\n7398\n1697\n5797\n5922\n5352\n\n53946\n\n7483\n3663\n1134\n4279\n5315\n2756\n1280\n5807\n1892\n3701\n2848\n\n21603\n4098\n21937\n\n1914\n1812\n6990\n2754\n2459\n5984\n3895\n7411\n5240\n1022\n4323\n4382\n\n3803\n1698\n5774\n1680\n2122\n2865\n6470\n2921\n7619\n4584\n1788\n\n28678\n10385\n\n12207\n12265\n3932\n13284\n12672\n\n5559\n5610\n1230\n5547\n3945\n1566\n2589\n1948\n2313\n4243\n2472\n1343\n1317\n5152\n1953\n\n1082\n6063\n1974\n2054\n2931\n5433\n4410\n4584\n4896\n2825\n3945\n5849\n3615\n2464\n1560\n\n6494\n7717\n4697\n3012\n4515\n3802\n8621\n6041\n6939\n3059\n\n1747\n8291\n4058\n2884\n1775\n8465\n5889\n4807\n\n6263\n7346\n8014\n8081\n5361\n4950\n2721\n5656\n3858\n7486\n\n11877\n5145\n10149\n2148\n\n8389\n4492\n5074\n9457\n5132\n4355\n3254\n9607\n4059\n\n5858\n7062\n9260\n6672\n2291\n1448\n7436\n\n8943\n6577\n8042\n2056\n9801\n9060\n10243\n10758\n\n11606\n\n6340\n4468\n4225\n6861\n5648\n2951\n2556\n5794\n2657\n1450\n5888\n4363\n\n1294\n3826\n3132\n2798\n5133\n2118\n4319\n1681\n5402\n4255\n4831\n1300\n\n4233\n6221\n6336\n5287\n5566\n2796\n3047\n5486\n1849\n3572\n3709\n7014\n\n2418\n7218\n1153\n8036\n2015\n1385\n5385\n2775\n\n5788\n17132\n1734\n6843\n\n17843\n2755\n4097\n1314\n\n7448\n3025\n3255\n6379\n1817\n7363\n4086\n3106\n7192\n3632\n2748\n6634\n\n11495\n6431\n6756\n7335\n\n3090\n2890\n6300\n5939\n4045\n1781\n5080\n6123\n2589\n5990\n4438\n2903\n2789\n4761\n\n2633\n5069\n6129\n1870\n2148\n2688\n4932\n5756\n5281\n3209\n2040\n5708\n2292\n2027\n\n68293\n\n4087\n4630\n5781\n5165\n3022\n1847\n4922\n2792\n4629\n6178\n3427\n4536\n4802\n1733\n\n11367\n12689\n13239\n\n7698\n7879\n2401\n7045\n9018\n2767\n8286\n5754\n7154\n\n43194\n\n4845\n3694\n1107\n3687\n7597\n7787\n8056\n8010\n\n3598\n4505\n3676\n5174\n4271\n1290\n1116\n5257\n1343\n2660\n6227\n1303\n1217\n\n31264\n17846\n\n3026\n3533\n4579\n4017\n3465\n5489\n3720\n3146\n1755\n6197\n2181\n6449\n4893\n1766\n\n1225\n2725\n5173\n3401\n4172\n2673\n6005\n8950\n8838\n\n7416\n1467\n4741\n2043\n3032\n2290\n4182\n4493\n4860\n4543\n6791\n\n9989\n23051\n12756\n\n2995\n1859\n2029\n1520\n1287\n5281\n2299\n2794\n6913\n1477\n3639\n5475\n1198\n\n4513\n5732\n6462\n1327\n1149\n6276\n5925\n5654\n5283\n1177\n1802\n2093\n4928\n1355\n\n8874\n2550\n10268\n8362\n9158\n6929\n10674\n\n5052\n2678\n6754\n6411\n1197\n7463\n3835\n5308\n8160\n\n9428\n1308\n1957\n6146\n7962\n9350\n3699\n6982\n7111\n\n5388\n3451\n3865\n4881\n5709\n6812\n3177\n2124\n3329\n8718\n\n16156\n14022\n16031\n7972\n2381\n\n3696\n12103\n9136\n9793\n11491\n6030\n\n10542\n9283\n\n1040\n3593\n1510\n2450\n5138\n5137\n1935\n3159\n2562\n1604\n5280\n1282\n1059\n3784\n2287\n\n2464\n4363\n6262\n1136\n7072\n2328\n1517\n7229\n5730\n2456\n1681\n7213\n\n4983\n4935\n6580\n1118\n5291\n4664\n4778\n6818\n5331\n6254\n5525\n1214\n1659\n\n4535\n4602\n1741\n2803\n2795\n1195\n2041\n1147\n5091\n4244\n6115\n4765\n2074\n4711\n2985\n\n1487\n5322\n2729\n5893\n4743\n5788\n5701\n5954\n1570\n2214\n7415\n2549\n\n7483\n12474\n7468\n5340\n\n1699\n1294\n4841\n3882\n1746\n5642\n5753\n4051\n2750\n4079\n5881\n4307\n2535\n\n36712\n25729\n\n1493\n9804\n6491\n3737\n5900\n8810\n2677\n\n32912\n35589\n\n15457\n17689\n15413\n\n9642\n12851\n7416\n5456\n\n10946\n9357\n\n34589\n\n11079\n18789\n\n1029\n13280\n1556\n6080\n14840\n\n2352\n7024\n1303\n\n6432\n4312\n3800\n1713\n4580\n2574\n6955\n6129\n1054\n4104\n4150\n3146\n1777\n\n8253\n6799\n1492\n8292\n6260\n4014\n7500\n3738\n1349\n7391\n\n9308\n8918\n4943\n1408\n6212\n7375\n8604\n6907\n\n3994\n10181\n7867\n4339\n8321\n3496\n6332\n8291\n\n5058\n6311\n8770\n10517\n8510\n1807\n10295\n2060\n\n11864\n12981\n10287\n10881\n\n17316\n9524\n16372\n\n4423\n5322\n4954\n11336\n8543\n8031\n\n1576\n9103\n8531\n11398\n4900\n1621\n\n5162\n1057\n12960\n16173\n8403\n\n2436\n4121\n5143\n3486\n5542\n2598\n6157\n5536\n6005\n1953\n2645\n1790\n\n1211\n5673\n7658\n6331\n6354\n5775\n2821\n5983\n5338\n6135\n7436\n\n3891\n4230\n6457\n5382\n8435\n8484\n6872\n1750\n6127\n\n8997\n7290\n6789\n13725\n3285\n13318\n\n7602\n6264\n6286\n5290\n4403\n3829\n5456\n2632\n2556\n5225\n1189\n\n9054\n11332\n1990\n6952\n3916\n10222\n1268\n\n3599\n4346\n2535\n2775\n1140\n5020\n1050\n1119\n1373\n6191\n6996\n7381\n\n15115\n5092\n\n5201\n4358\n6447\n3800\n5425\n2062\n6314\n3184\n5203\n5626\n6024\n1408\n2543\n5400\n\n4602\n8699\n3729\n3608\n3425\n6182\n1210\n4268\n8660\n\n5167\n3056\n2162\n5024\n5586\n7900\n4688\n2166\n7268\n2577\n\n2871\n4288\n3167\n7065\n7042\n6419\n2788\n6489\n1584\n3162\n5541\n\n8083\n9590\n8100\n2032\n6749\n4610\n4924\n2628\n2110\n\n2103\n5752\n2489\n2898\n5077\n4422\n1491\n5660\n2916\n6302\n5032\n1998\n5007\n3953\n\n7090\n2458\n15291\n7943\n4677\n\n3938\n6524\n3715\n1700\n3637\n3124\n6519\n5349\n1768\n5571\n1725\n1038\n4694\n\n19691\n\n6409\n2963\n4723\n3601\n6292\n1298\n4875\n4930\n5750\n6376\n4620\n5066\n6434\n5973\n\n7194\n10283\n4302\n6346\n6744\n4990\n9302\n3257\n\n5500\n4929\n4011\n3026\n1247\n5017\n2477\n2815\n3206\n3386\n5563\n3704\n2510\n5969\n\n3588\n4251\n1214\n4568\n4747\n4950\n4670\n3810\n4616\n1599\n5738\n2651\n5971\n\n7252\n4958\n7736\n7267\n1115\n1936\n3503\n8340\n3581\n\n19911\n9923\n5937\n11827\n\n16111\n1929\n1567\n2584\n\n4411\n6070\n5904\n5425\n1684\n2343\n1569\n4476\n3774\n5901\n2230\n4560\n4894\n3532\n3679\n\n19875\n3275\n1303\n\n1111\n2927\n1812\n2341\n5611\n1602\n1876\n2430\n2810\n5400\n1909\n1341\n2605\n1860\n\n1387\n4755\n1827\n3107\n5734\n3912\n7449\n5100\n\n12046\n4731\n10977\n8509\n15801\n\n9891\n19111\n15136\n6515\n\n5839\n2497\n4195\n2027\n5340\n6432\n7256\n2774\n4934\n6521\n4715\n\n5351\n6545\n5531\n10516\n10280\n10482\n6863\n\n54895\n\n3515\n3873\n1035\n9079\n10474\n8983\n6396\n\n1564\n5340\n2239\n2539\n2464\n1083\n3777\n2981\n4247\n4471\n1687\n1693\n3053\n5160\n3384\n\n4827\n3949\n3489\n5192\n3342\n4695\n4461\n6165\n1891\n5060\n5961\n1543\n2959\n6262\n\n18480\n2939\n10591\n\n3496\n14216\n4695\n\n2178\n5400\n5298\n6806\n2108\n3793\n5762\n4787\n3032\n3819\n1834\n2905\n5070\n\n8889\n1553\n11822\n11140\n1604\n11187\n3094\n\n3950\n3808\n6643\n1323\n4637\n1465\n5416\n6504\n5400\n6691\n6056\n4358\n5209\n\n5821\n4259\n2389\n7085\n6813\n2094\n2901\n7089\n6160\n6301\n4980\n4239\n\n5431\n5016\n9948\n1158\n3133\n4783\n\n2650\n6541\n6230\n6789\n6499\n2613\n2358\n3241\n3777\n5018\n4522\n4057\n5587\n\n3428\n5879\n2228\n2436\n5905\n4346\n6072\n3843\n2432\n1342\n1339\n4727\n6823\n\n15873\n19800\n13068\n\n1866\n12061\n11047\n15922\n\n19221\n9883\n5634\n\n1072\n13511\n18294\n\n64548\n\n5313\n13972\n2829\n16260\n\n2945\n2469\n1966\n2968\n4563\n3434\n3095\n5102\n5678\n2491\n3625\n5366\n2994\n\n4920\n3123\n4726\n5313\n3148\n3510\n5397\n2081\n5252\n1949\n4929\n6472\n5292\n\n6040\n3246\n6110\n4395\n2589\n6227\n4105\n3881\n5992\n4294\n\n6363\n3364\n7225\n7105\n1912\n7460\n1929\n2680\n6231\n3061\n7856\n\n5043\n1059\n4183\n4697\n3634\n3572\n1636\n2635\n2733\n5600\n4000\n6300\n1367\n\n2560\n1074\n1473\n6555\n6887\n5044\n6544\n5101\n3041\n3100\n2924\n5388\n6025\n\n8736\n\n2235\n19236\n12524\n\n3968\n2552\n11328\n10347\n5092\n4822\n\n3051\n6914\n7082\n4322\n4701\n5313\n1889\n5562\n7529\n7673\n3085\n\n1518\n10390\n1706\n5313\n7800\n8948\n\n6670\n6555\n1881\n6658\n5687\n1338\n1547\n6876\n4657\n2061\n3742\n2958\n6836\n\n9112\n2305\n9461\n10472\n8796\n8858\n5303\n3259\n\n4281\n1131\n2165\n10304\n9662\n9627\n10574\n\n8949\n12010\n13033\n5232\n3433\n8212\n\n8478\n9908\n9043\n4869\n11600\n12466\n\n2444\n8308\n9337\n3539\n6796\n7175\n4099\n9456\n6075\n\n2503\n1993\n3162\n9282\n3378\n\n4406\n1417\n10195\n6361\n3735\n10131\n4131\n2617\n\n28770\n\n11378\n13601\n14324\n\n9222\n1090\n2246\n3436\n4692\n2317\n6684\n5515\n3608\n\n8442\n8781\n6388\n6511\n5283\n3505\n7294\n3703\n2752\n2541\n\n2160\n5683\n8706\n7818\n1283\n3659\n1465\n7255\n2556\n7496\n\n4351\n2585\n3091\n6105\n2960\n6796\n6028\n1223\n3791\n2543\n2221\n1342\n1228\n\n2678\n5749\n8275\n6535\n4567\n2629\n5222\n8406\n3528\n7274\n\n11561\n8495\n11196\n6072\n4726\n6342\n4271\n\n3035\n4638\n6716\n4871\n5516\n2387\n1828\n3695\n5199\n4602\n2372\n5376\n6229\n\n5904\n7241\n1735\n4137\n5267\n7228\n6840\n2122\n5707\n3875\n5913\n6192\n\n3372\n6579\n6596\n4463\n2498\n3147\n1505\n1879\n5437\n6317\n2129\n3425\n1569\n\n7582\n4017\n9553\n5929\n\n2721\n1439\n5723\n1790\n10437\n10251\n6175\n\n3037\n2342\n\n4409\n7389\n6107\n1920\n5975\n3859\n5681\n7411\n2409\n5083\n2678\n3001\n\n6304\n6453\n8158\n1532\n2956\n1314\n4902\n5140\n\n1964\n6243\n8353\n3374\n7134\n1951\n2425\n6063\n2765\n\n7148\n12369\n7870\n3802\n10446\n10955\n\n1377\n2579\n4886\n4537\n5929\n2946\n3894\n5212\n3825\n1003\n1884\n5017\n4114\n1895")

  (part-1 (parse in))
  (part-2 (parse in))

  )
